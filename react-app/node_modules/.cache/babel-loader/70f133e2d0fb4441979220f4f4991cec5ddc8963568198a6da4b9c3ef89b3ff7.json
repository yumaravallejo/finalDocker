{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[productos,setProductos]=useState([]);const[usuario,setUsuario]=useState('');const[clave,setClave]=useState('');const[mensaje,setMensaje]=useState('');const[loading,setLoading]=useState(false);const[idProducto,setIdProducto]=useState('');// Función para manejar el login\nconst handleLogin=async()=>{setLoading(true);try{const response=await axios.post('https://localhost:10000/login',{usuario:usuario,clave:clave});setMensaje(response.data.mensaje);}catch(error){setMensaje('Error de conexión');}setLoading(false);};// Función para cargar todos los productos\nconst handleCargarProductos=async()=>{setLoading(true);try{const response=await axios.get('https://localhost:5000/productos');setProductos(response.data);}catch(error){setMensaje('Error al cargar productos');}setLoading(false);};// Función para cargar un producto específico\nconst handleCargarProducto=async()=>{if(!idProducto){setMensaje('Debes proporcionar un ID de producto');return;}setLoading(true);try{const response=await axios.get(\"https://localhost:5000/productos?id_producto=\".concat(idProducto));setProductos([response.data]);// Se coloca el producto específico en un array\n}catch(error){setMensaje('Error al cargar el producto');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bienvenido a la Aplicaci\\xF3n Web\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Usuario\",value:usuario,onChange:e=>setUsuario(e.target.value),style:{padding:'5px',marginRight:'10px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Clave\",value:clave,onChange:e=>setClave(e.target.value),style:{padding:'5px',marginRight:'10px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,disabled:loading,children:loading?'Iniciando...':'Login'})]}),mensaje&&/*#__PURE__*/_jsx(\"p\",{children:mensaje}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Productos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCargarProductos,disabled:loading,children:loading?'Cargando productos...':'Cargar todos los productos'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID del producto\",value:idProducto,onChange:e=>setIdProducto(e.target.value),style:{padding:'5px',marginRight:'10px',marginTop:'10px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCargarProducto,disabled:loading,children:loading?'Cargando producto...':'Cargar producto específico'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Lista de Productos:\"}),productos&&productos.length>0?/*#__PURE__*/_jsx(\"ul\",{children:productos.map((producto,index)=>/*#__PURE__*/_jsx(\"li\",{children:producto.nombre},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No hay productos para mostrar.\"})]})]});};export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","productos","setProductos","usuario","setUsuario","clave","setClave","mensaje","setMensaje","loading","setLoading","idProducto","setIdProducto","handleLogin","response","post","data","error","handleCargarProductos","get","handleCargarProducto","concat","style","padding","children","type","placeholder","value","onChange","e","target","marginRight","onClick","disabled","marginTop","length","map","producto","index","nombre"],"sources":["/home/usuario/act3_docker/aplicacionweb/react-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [productos, setProductos] = useState([]);\n  const [usuario, setUsuario] = useState('');\n  const [clave, setClave] = useState('');\n  const [mensaje, setMensaje] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [idProducto, setIdProducto] = useState('');\n\n  // Función para manejar el login\n  const handleLogin = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.post('https://localhost:10000/login', {\n        usuario: usuario,\n        clave: clave,\n      });\n\n      setMensaje(response.data.mensaje);\n    } catch (error) {\n      setMensaje('Error de conexión');\n    }\n    setLoading(false);\n  };\n\n  // Función para cargar todos los productos\n  const handleCargarProductos = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get('https://localhost:5000/productos');\n      setProductos(response.data);\n    } catch (error) {\n      setMensaje('Error al cargar productos');\n    }\n    setLoading(false);\n  };\n\n  // Función para cargar un producto específico\n  const handleCargarProducto = async () => {\n    if (!idProducto) {\n      setMensaje('Debes proporcionar un ID de producto');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.get(`https://localhost:5000/productos?id_producto=${idProducto}`);\n      setProductos([response.data]); // Se coloca el producto específico en un array\n    } catch (error) {\n      setMensaje('Error al cargar el producto');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <h1>Bienvenido a la Aplicación Web</h1>\n      \n      {/* Formulario de login */}\n      <div>\n        <h2>Login</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Usuario\"\n          value={usuario}\n          onChange={(e) => setUsuario(e.target.value)}\n          style={{ padding: '5px', marginRight: '10px' }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Clave\"\n          value={clave}\n          onChange={(e) => setClave(e.target.value)}\n          style={{ padding: '5px', marginRight: '10px' }}\n        />\n        <button onClick={handleLogin} disabled={loading}>\n          {loading ? 'Iniciando...' : 'Login'}\n        </button>\n      </div>\n\n\n      {mensaje && <p>{mensaje}</p>}\n\n      <hr />\n      \n\n      <div>\n        <h2>Productos</h2>\n        <button onClick={handleCargarProductos} disabled={loading}>\n          {loading ? 'Cargando productos...' : 'Cargar todos los productos'}\n        </button>\n\n        <input\n          type=\"text\"\n          placeholder=\"ID del producto\"\n          value={idProducto}\n          onChange={(e) => setIdProducto(e.target.value)}\n          style={{ padding: '5px', marginRight: '10px', marginTop: '10px' }}\n        />\n        <button onClick={handleCargarProducto} disabled={loading}>\n          {loading ? 'Cargando producto...' : 'Cargar producto específico'}\n        </button>\n      </div>\n\n      <div>\n        <h3>Lista de Productos:</h3>\n        {productos && productos.length > 0 ? (\n          <ul>\n            {productos.map((producto, index) => (\n              <li key={index}>{producto.nombre}</li>  \n            ))}\n          </ul>\n        ) : (\n          <p>No hay productos para mostrar.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}