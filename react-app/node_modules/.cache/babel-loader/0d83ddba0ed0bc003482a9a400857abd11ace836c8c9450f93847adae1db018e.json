{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Productos=()=>{const[productos,setProductos]=useState([]);const[mensaje,setMensaje]=useState('');const location=useLocation();const idProducto=new URLSearchParams(location.search).get('id_producto');useEffect(()=>{const fetchProductos=async()=>{try{const response=idProducto?await axios.get(\"http://localhost/productos/index.php?id_producto=\".concat(idProducto)):await axios.get('http://localhost/productos/index.php');setProductos(response.data);}catch(error){setMensaje('No se pudieron cargar los productos');console.error(error);}};fetchProductos();},[idProducto]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Productos\"}),mensaje&&/*#__PURE__*/_jsx(\"p\",{children:mensaje}),/*#__PURE__*/_jsx(\"ul\",{children:productos.map((producto,index)=>/*#__PURE__*/_jsx(\"li\",{children:producto.nombre},index))})]});};export default Productos;","map":{"version":3,"names":["React","useEffect","useState","axios","useLocation","jsx","_jsx","jsxs","_jsxs","Productos","productos","setProductos","mensaje","setMensaje","location","idProducto","URLSearchParams","search","get","fetchProductos","response","concat","data","error","console","children","map","producto","index","nombre"],"sources":["/home/usuario/act3_docker/aplicacionweb/react-app/src/components/Productos.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\n\nconst Productos = () => {\n  const [productos, setProductos] = useState([]);\n  const [mensaje, setMensaje] = useState('');\n  const location = useLocation();\n  const idProducto = new URLSearchParams(location.search).get('id_producto');\n\n  useEffect(() => {\n    const fetchProductos = async () => {\n      try {\n        const response = idProducto\n          ? await axios.get(`http://localhost/productos/index.php?id_producto=${idProducto}`)\n          : await axios.get('http://localhost/productos/index.php');\n        \n        setProductos(response.data);\n      } catch (error) {\n        setMensaje('No se pudieron cargar los productos');\n        console.error(error);\n      }\n    };\n\n    fetchProductos();\n  }, [idProducto]);\n\n  return (\n    <div>\n      <h2>Productos</h2>\n      {mensaje && <p>{mensaje}</p>}\n      <ul>\n        {productos.map((producto, index) => (\n          <li key={index}>{producto.nombre}</li> \n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Productos;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAY,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,UAAU,CAAG,GAAI,CAAAC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,GAAG,CAAC,aAAa,CAAC,CAE1EjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAGL,UAAU,CACvB,KAAM,CAAAZ,KAAK,CAACe,GAAG,qDAAAG,MAAA,CAAqDN,UAAU,CAAE,CAAC,CACjF,KAAM,CAAAZ,KAAK,CAACe,GAAG,CAAC,sCAAsC,CAAC,CAE3DP,YAAY,CAACS,QAAQ,CAACE,IAAI,CAAC,CAC7B,CAAE,MAAOC,KAAK,CAAE,CACdV,UAAU,CAAC,qCAAqC,CAAC,CACjDW,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAEDJ,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAEhB,mBACEP,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,WAAS,CAAI,CAAC,CACjBb,OAAO,eAAIN,IAAA,MAAAmB,QAAA,CAAIb,OAAO,CAAI,CAAC,cAC5BN,IAAA,OAAAmB,QAAA,CACGf,SAAS,CAACgB,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBAC7BtB,IAAA,OAAAmB,QAAA,CAAiBE,QAAQ,CAACE,MAAM,EAAvBD,KAA4B,CACtC,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}