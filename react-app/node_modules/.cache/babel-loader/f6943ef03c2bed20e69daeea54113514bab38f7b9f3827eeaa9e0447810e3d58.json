{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[usuario,setUsuario]=useState('');const[clave,setClave]=useState('');const[productos,setProductos]=useState([]);const[idProducto,setIdProducto]=useState(null);const[producto,setProducto]=useState(null);// Función para manejar el login\nconst login=async()=>{try{const response=await axios.post('http://localhost/login',{usuario:usuario,clave:clave});alert(response.data.message);// Muestra el mensaje devuelto por el microservicio PHP\n}catch(error){console.error(\"Error en el login\",error);alert('Error al intentar iniciar sesión');}};// Función para cargar todos los productos\nconst cargarProductos=async()=>{try{const response=await axios.get('http://localhost/productos');setProductos(response.data);// Actualiza el estado con los productos\n}catch(error){console.error(\"Error al cargar los productos\",error);alert('Error al cargar productos');}};// Función para cargar un producto específico por su ID\nconst cargarProductoPorId=async id=>{try{const response=await axios.get(\"http://localhost/productos?id_producto=\".concat(id));setProducto(response.data);// Actualiza el estado con el producto\n}catch(error){console.error(\"Error al cargar el producto por ID\",error);alert('Error al cargar el producto');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Aplicaci\\xF3n Web con React y Microservicios\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Usuario\",value:usuario,onChange:e=>setUsuario(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Clave\",value:clave,onChange:e=>setClave(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Productos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cargarProductos,children:\"Cargar todos los productos\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID del Producto\",onChange:e=>setProductoId(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>cargarProductoPorId(productoId),children:\"Cargar Producto por ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Lista de Productos:\"}),/*#__PURE__*/_jsx(\"ul\",{children:productos.map(producto=>/*#__PURE__*/_jsx(\"li\",{children:producto.nombre},producto.id))})]}),producto&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Producto seleccionado:\"}),/*#__PURE__*/_jsx(\"p\",{children:producto.nombre})]})]});};export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","usuario","setUsuario","clave","setClave","productos","setProductos","idProducto","setIdProducto","producto","setProducto","login","response","post","alert","data","message","error","console","cargarProductos","get","cargarProductoPorId","id","concat","className","children","type","placeholder","value","onChange","e","target","onClick","setProductoId","productoId","map","nombre"],"sources":["/home/usuario/act3_docker/aplicacionweb/react-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [usuario, setUsuario] = useState('');\n  const [clave, setClave] = useState('');\n  const [productos, setProductos] = useState([]);\n  const [idProducto, setIdProducto] = useState(null);\n  const [producto, setProducto] = useState(null);\n\n  // Función para manejar el login\n  const login = async () => {\n    try {\n      const response = await axios.post('http://localhost/login', {\n        usuario: usuario,\n        clave: clave\n      });\n      alert(response.data.message); // Muestra el mensaje devuelto por el microservicio PHP\n    } catch (error) {\n      console.error(\"Error en el login\", error);\n      alert('Error al intentar iniciar sesión');\n    }\n  };\n\n  // Función para cargar todos los productos\n  const cargarProductos = async () => {\n    try {\n      const response = await axios.get('http://localhost/productos');\n      setProductos(response.data); // Actualiza el estado con los productos\n    } catch (error) {\n      console.error(\"Error al cargar los productos\", error);\n      alert('Error al cargar productos');\n    }\n  };\n\n  // Función para cargar un producto específico por su ID\n  const cargarProductoPorId = async (id) => {\n    try {\n      const response = await axios.get(`http://localhost/productos?id_producto=${id}`);\n      setProducto(response.data); // Actualiza el estado con el producto\n    } catch (error) {\n      console.error(\"Error al cargar el producto por ID\", error);\n      alert('Error al cargar el producto');\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Aplicación Web con React y Microservicios</h1>\n\n      {/* Formulario de Login */}\n      <div>\n        <h2>Iniciar sesión</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Usuario\"\n          value={usuario}\n          onChange={(e) => setUsuario(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Clave\"\n          value={clave}\n          onChange={(e) => setClave(e.target.value)}\n        />\n        <button onClick={login}>Login</button>\n      </div>\n\n      {/* Botones para cargar productos */}\n      <div>\n        <h2>Productos</h2>\n        <button onClick={cargarProductos}>Cargar todos los productos</button>\n        <input\n          type=\"text\"\n          placeholder=\"ID del Producto\"\n          onChange={(e) => setProductoId(e.target.value)}\n        />\n        <button onClick={() => cargarProductoPorId(productoId)}>Cargar Producto por ID</button>\n      </div>\n\n      {/* Mostrar productos */}\n      <div>\n        <h3>Lista de Productos:</h3>\n        <ul>\n          {productos.map((producto) => (\n            <li key={producto.id}>{producto.nombre}</li>\n          ))}\n        </ul>\n      </div>\n\n      {/* Mostrar un solo producto */}\n      {producto && (\n        <div>\n          <h3>Producto seleccionado:</h3>\n          <p>{producto.nombre}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}